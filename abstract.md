# 摘要
关系型数据库作为一种在性能和一致性上都有不错保证的数据持久化方案，如今已被广泛应用于工业。而随着如今使用关系型数据库的访问量越来越大，优化关系型数据库已经成了开发中必不可少的环节。然而纵使如今各种关系型数据库的资料很多，却极少有从数据库各个基本组件剖析数据库运行原理的资料，而这又是理解优化的基础。本文希望通过提供一个精简的关系型数据库实现，从关系型数据库的基础组件和运行流程两个角度剖析关系型数据库的运行原理。
本数据库主要由6个模块组成，分别是SQL解析与语义检查、执行计划、持久化、内存池、网络模块、客户端。本数据库精选了SQL语句的一个小子集，并提供了一个易于实现的语法集，该语法集同时力求兼顾减少语义检查的工作。执行计划部门展示了如何使用迭代器让各功能可以组件化。持久化部分设计了一个简单的数据格式对表数据进行持久化。内存池实现了基于内存页的LRU内存管理。网络模块使用了事件循环来处理请求。

With good performance and strong consistence, Relational Database has been widely used in the industry. As throughput of Relational Database increasing, optimization has become an important part in application development. While great number of document about Relational Database exist, few can be found to give a good explanation about the basic idea and architecture of Relational Database, which is basis of understanding database optimization. This paper aims to give a brief introduction to the design and implementation of Relational Database by analyzing the database named Blastoise provided by this paper.
Blastoise consists of 6 parts, SQL parser and semantic check, execution plan, persistence, memory pool, net server, and database client. It provide an simplified subset of SQL with an well designed grammar set which is easy to implement and reduce semantic check. Execution plan will show how to use iterator to make the implementation of execution pluggable. Persistence module give a simple design of relation data persistence. The memory pool implement a basic LRU cache for page memory management. The net server use event loop to reach high availability.
